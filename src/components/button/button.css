/* ── Button ──────────────────────────────────────────────────────── */

.es-button {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  border: none;
  cursor: pointer;
  white-space: nowrap;
  user-select: none;
  position: relative;
  transition:
    background var(--motion-duration-fast) var(--motion-easing-standard),
    color var(--motion-duration-fast) var(--motion-easing-standard);
}

.es-button::after {
  content: '';
  position: absolute;
  inset: 0;
  border: var(--border-default-width) solid transparent;
  border-radius: inherit;
  pointer-events: none;
  transition: border-color var(--motion-duration-fast) var(--motion-easing-standard);
}

.es-button:focus-visible {
  outline: var(--focus-ring-width) solid var(--color-brand-blue);
  outline-offset: var(--focus-ring-offset);
}

.es-button:disabled {
  opacity: var(--disabled-opacity);
  cursor: not-allowed;
}

/* ── Sizes ───────────────────────────────────────────────────────── */

.es-button--xs {
  padding: var(--tab-select-sm-padding-y) var(--tab-select-sm-padding-x);
  font-size: var(--text-size-80);
  font-weight: 600;
  line-height: 1;
  border-radius: var(--radius-sm);
}

.es-button--sm {
  padding: var(--button-spacing-sm-y) var(--button-spacing-sm-x);
  font: var(--button-typography-sm);
  border-radius: var(--button-radius-sm);
}

.es-button--md {
  padding: var(--button-spacing-md-y) var(--button-spacing-md-x);
  font: var(--button-typography-md);
  border-radius: var(--button-radius-md);
}

.es-button--lg {
  padding: var(--button-spacing-lg-y) var(--button-spacing-lg-x);
  font: var(--button-typography-lg);
  border-radius: var(--button-radius-lg);
}

/* ── High emphasis ───────────────────────────────────────────────── */

.es-button--high {
  background: var(--color-brand-blue);
  color: var(--text-on-bold);
}

.es-button--high:hover:not(:disabled) {
  background: var(--color-blue-200);
}

.es-button--high:active:not(:disabled) {
  background: var(--color-pink-600);
}

/* ── Medium emphasis ─────────────────────────────────────────────── */

.es-button--medium {
  background: var(--interactive-default);
  color: var(--text-secondary);
}

.es-button--medium::after {
  border-color: var(--border-default);
}

.es-button--medium:hover:not(:disabled) {
  background: var(--interactive-hover);
  color: var(--text-primary);
}

.es-button--medium:active:not(:disabled) {
  background: var(--interactive-active);
}

/* ── Low emphasis ────────────────────────────────────────────────── */

.es-button--low {
  background: transparent;
  color: var(--text-tertiary);
}

.es-button--low::after {
  border-color: var(--border-default);
}

.es-button--low:hover:not(:disabled) {
  background: var(--surface-sunken);
  color: var(--text-secondary);
}

.es-button--low:active:not(:disabled) {
  background: var(--interactive-default);
}

/* ── Multistate internals ────────────────────────────────────────── */

.es-button--multistate {
  overflow: hidden;
}

.es-button__state-content {
  display: flex;
  align-items: center;
}

.es-button__icon-wrap {
  position: relative;
  display: flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;
}

.es-button__icon {
  position: absolute;
  left: 0;
  top: 0;
}

.es-button__label-measure {
  position: absolute;
  visibility: hidden;
  white-space: nowrap;
  pointer-events: none;
}

.es-button__label-wrap {
  position: relative;
  display: flex;
  align-items: center;
}

.es-button__label {
  white-space: nowrap;
}

/* ── State color overrides – high emphasis ────────────────────────── */

.es-button--high.es-button--state-success {
  background: var(--color-green-600);
}

.es-button--high.es-button--state-error {
  background: var(--color-red-600);
}

/* ── State color overrides – medium emphasis ──────────────────────── */

.es-button--medium.es-button--state-success {
  color: var(--color-green-500);
}

.es-button--medium.es-button--state-success::after {
  border-color: var(--color-green-500);
}

.es-button--medium.es-button--state-error {
  color: var(--color-red-600);
}

.es-button--medium.es-button--state-error::after {
  border-color: var(--color-red-600);
}

/* ── State color overrides – low emphasis ─────────────────────────── */

.es-button--low.es-button--state-success {
  color: var(--color-green-500);
}

.es-button--low.es-button--state-success::after {
  border-color: var(--color-green-500);
}

.es-button--low.es-button--state-error {
  color: var(--color-red-600);
}

.es-button--low.es-button--state-error::after {
  border-color: var(--color-red-600);
}

/* ── Processing state ────────────────────────────────────────────── */

.es-button--state-processing:disabled {
  opacity: 1;
  cursor: wait;
}
