/* ── Button ──────────────────────────────────────────────────────── */

.es-button {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  border: none;
  cursor: pointer;
  white-space: nowrap;
  user-select: none;
  position: relative;
  transition:
    background var(--motion-duration-fast) var(--motion-easing-standard),
    color var(--motion-duration-fast) var(--motion-easing-standard);
}

.es-button::after {
  content: '';
  position: absolute;
  inset: 0;
  border: var(--border-default-width) solid transparent;
  border-radius: inherit;
  pointer-events: none;
  transition: border-color var(--motion-duration-fast) var(--motion-easing-standard);
}

.es-button:focus-visible {
  outline: 2px solid var(--color-brand-blue);
  outline-offset: 2px;
}

.es-button:disabled {
  opacity: 0.4;
  cursor: not-allowed;
}

/* ── Sizes ───────────────────────────────────────────────────────── */

.es-button--sm {
  padding: 0.25rem var(--button-spacing-sm-x);
  font: var(--button-typography-sm);
  border-radius: var(--button-radius-sm);
}

.es-button--md {
  padding: 0.625rem var(--button-spacing-md-x);
  font: var(--button-typography-md);
  border-radius: var(--button-radius-md);
}

.es-button--lg {
  padding: 1rem 1.5rem;
  font: 600 1.563rem/2rem proxima-nova, Helvetica Neue, Arial, Helvetica,
    sans-serif;
  border-radius: var(--radius-sm);
}

/* ── High emphasis ───────────────────────────────────────────────── */

.es-button--high {
  background: var(--color-brand-blue);
  color: var(--color-brand-white);
}

.es-button--high:hover:not(:disabled) {
  background: var(--color-blue-200);
}

.es-button--high:active:not(:disabled) {
  background: var(--color-pink-600);
}

/* ── Medium emphasis ─────────────────────────────────────────────── */

.es-button--medium {
  background: var(--color-neutral-800);
  color: var(--color-neutral-200);
}

.es-button--medium::after {
  border-color: var(--color-neutral-600);
}

.es-button--medium:hover:not(:disabled) {
  background: var(--color-neutral-700);
  color: var(--color-brand-white);
}

.es-button--medium:active:not(:disabled) {
  background: var(--color-neutral-600);
}

/* ── Low emphasis ────────────────────────────────────────────────── */

.es-button--low {
  background: transparent;
  color: var(--color-neutral-400);
}

.es-button--low::after {
  border-color: var(--color-neutral-600);
}

.es-button--low:hover:not(:disabled) {
  background: var(--color-neutral-900);
  color: var(--color-neutral-200);
}

.es-button--low:active:not(:disabled) {
  background: var(--color-neutral-800);
}

/* ── Multistate internals ────────────────────────────────────────── */

.es-button--multistate {
  overflow: hidden;
}

.es-button__state-content {
  display: flex;
  align-items: center;
}

.es-button__icon-wrap {
  position: relative;
  display: flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;
}

.es-button__icon {
  position: absolute;
  left: 0;
  top: 0;
}

.es-button__label-measure {
  position: absolute;
  visibility: hidden;
  white-space: nowrap;
  pointer-events: none;
}

.es-button__label-wrap {
  position: relative;
  display: flex;
  align-items: center;
}

.es-button__label {
  white-space: nowrap;
}

/* ── State color overrides – high emphasis ────────────────────────── */

.es-button--high.es-button--state-success {
  background: var(--color-green-600);
}

.es-button--high.es-button--state-error {
  background: var(--color-red-600);
}

/* ── State color overrides – medium emphasis ──────────────────────── */

.es-button--medium.es-button--state-success {
  color: var(--color-green-500);
}

.es-button--medium.es-button--state-success::after {
  border-color: var(--color-green-500);
}

.es-button--medium.es-button--state-error {
  color: var(--color-red-600);
}

.es-button--medium.es-button--state-error::after {
  border-color: var(--color-red-600);
}

/* ── State color overrides – low emphasis ─────────────────────────── */

.es-button--low.es-button--state-success {
  color: var(--color-green-500);
}

.es-button--low.es-button--state-success::after {
  border-color: var(--color-green-500);
}

.es-button--low.es-button--state-error {
  color: var(--color-red-600);
}

.es-button--low.es-button--state-error::after {
  border-color: var(--color-red-600);
}

/* ── Processing state ────────────────────────────────────────────── */

.es-button--state-processing:disabled {
  opacity: 1;
  cursor: wait;
}

/* ── Light mode ──────────────────────────────────────────────────── */

[data-theme="light"] .es-button--high {
  color: var(--color-neutral-0);
}

[data-theme="light"] .es-button--high.es-button--state-success,
[data-theme="light"] .es-button--high.es-button--state-error {
  color: var(--color-neutral-0);
}
